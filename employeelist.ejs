<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href=https://cdn-icons-png.flaticon.com/512/9166/9166875.png>
    <title>employemanagement form</title> 
    <link rel="stylesheet" href="/employeelist.css">
</head>

<body class="<%= darkMode ? 'body-night' : 'body' %>" >
    <header>
        <h1>Employee Management System</h1>
    </header>
    <div style="margin-left: 500px; text-align: center; display: flex; justify-content: flex-end; margin: 20px;"></div>
    <a href="#" id="darkModeToggle" class="btn" onclick="toggleButtonAndNightMode()">Dark<span><ion-icon name="arrow-forward-outline"></ion-icon></span></a>        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
 
<script>
    document.getElementById('darkModeToggle').addEventListener('click', function () {
      const isDarkMode = document.body.classList.toggle('body-night');
      localStorage.setItem('darkMode', isDarkMode);
    });

    // Check localStorage on page load
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('body-night');
    }
  </script>
    
    
    <div class="container" >
       
    <div class="header">
        <form action="/addemploye" method="get">
        <button type="submit" class="addbtn" ">Add Employee</button>
    </form>
    <form action="/searchemploye" method="get" style="display: inline;">
        <input type="text" name="id" placeholder="Search by ID/Name" class="Search">
        <button type="submit" class="searchbtn">Search</button>
    </form>
    </div>
   

    
    <table  style=" background-color: #c8c5c3;" class="table">
        <thead>
        <tr >
            <th>Id</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Position</th>
            <th>Place</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <% rows.forEach(row => { %>
            <tr>
                <td><%= row.id %></td>
                <td><%= row.name %></td>
                <td><%= row.phone %></td>
                <td><%= row.position %></td>
                <td><%= row.place %></td>
                <td>
                    <form action="/editemploye" method="get" style="display: inline;">
                    <input type="hidden" name="id" value="<%= row.id%>">
                    <button class="edit" style="width: 70;">Edit</button>
                </form>
                </td>
                <td >
                    <form action="/deleteemploye" method="post" style="display:inline;">
                        <input type="hidden" name="id" value="<%= row.id %>">
                        <button type="submit" class="delete">Delete</button>
                    </form>
                </td>
                
            </tr>
        <% }); %>
    </tbody>
    </table>
    <div class="pagination" style="text-align: center; justify-content: center; margin-top: 20px;">
        <% if (currentPage > 1) { %>
          <a href="/?page=<%= currentPage - 1 %>">Previous</a>
        <% } %>
       
    
          <a href="/?page=<%= currentPage %>" <%= currentPage === currentPage ? 'class="active"' : '' %>><%= currentPage %></a>
        
        <% if (currentPage < totalPages) { %>
          <a href="/?page=<%= currentPage + 1 %>">Next</a>
        <% } %>
      </div>    

</div>
<script src="/public/nightmode.js"></script>
</body>
